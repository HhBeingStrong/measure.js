/*!
 * measure.js v1.0.0
 * Copyright (c) 2021 weijian zhu
 * Released under the MIT License.
*/(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e);var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.top=e.top,this.left=e.left,this.width=e.width,this.height=e.height,this.right=e.right,this.bottom=e.bottom}var e,n,i;return e=t,(n=[{key:"colliding",value:function(t){return!(this.top>t.bottom||this.right<t.left||this.bottom<t.top||this.left>t.right)}},{key:"containing",value:function(t){return this.left<=t.left&&t.left<this.width&&this.top<=t.top&&t.top<this.height}},{key:"inside",value:function(t){return t.top<=this.top&&this.top<=t.bottom&&t.top<=this.bottom&&this.bottom<=t.bottom&&t.left<=this.left&&this.left<=t.right&&t.left<=this.right&&this.right<=t.right}},{key:"outsideAndNOIntersectionY",value:function(t){return this.left>t.right||t.left>this.right}},{key:"outsideAndNOIntersectionX",value:function(t){return this.top>t.bottom||t.top>this.bottom}},{key:"outsideAndNOIntersection",value:function(t){return this.outsideAndNOIntersectionY(t)&&this.outsideAndNOIntersectionX(t)}},{key:"outsideIncludeY",value:function(t){return this.right>=t.right&&this.left<=t.left}},{key:"outsideIncludeX",value:function(t){return this.bottom>=t.bottom&&this.top<=t.top}}])&&o(e.prototype,n),i&&o(e,i),t}();const i={DashedColor:"#5392FC",selectedDomBorderColor:"#ED5666",targetDomBorderColor:"#0A91FC",markerColor:"#ED5666"};function a(t,e,o){var n=e.width,i=e.height,a=e.top,r=e.left,l=document.createElement("div");if(l.classList.add("measure-js-".concat(t,"-placeholder")),l.style.border="1px solid ".concat(o),l.style.position="fixed",l.style.background="none",l.style.borderRadius="2px",l.style.padding="0",l.style.margin="0",l.style.width="".concat(n-1,"px"),l.style.height="".concat(i-1,"px"),l.style.top="".concat(a-.5,"px"),l.style.left="".concat(r-.5,"px"),l.style.pointerEvents="none",l.style.zIndex="9999",l.style.boxSizing="content-box",document.body.appendChild(l),"target"!==t){var s=document.createElement("span");s.classList.add("measure-js-".concat(t,"-dimension")),s.style.background=o,s.style.position="fixed",s.style.display="inline-block",s.style.color="#fff",s.style.padding="2px 4px",s.style.fontSize="10px";var h="",c=a;a<20?(a<0&&(c=0,h="↑"),s.style.borderRadius="2px 0 2px 0"):(s.style.transform="translateY(calc(-100% + 1px))",s.style.borderRadius="2px 2px 0 0"),s.style.top="".concat(c-1,"px"),s.style.left="".concat(r-1,"px"),s.innerText="".concat(h," ").concat(Math.round(n),"px × ").concat(Math.round(i),"px"),l.appendChild(s)}else!function(t){var e;null===(e=document.querySelector(".measure-js-".concat(t,"-dimension")))||void 0===e||e.remove()}("selected")}function r(t){var e;null===(e=document.querySelector(".measure-js-".concat(t,"-placeholder")))||void 0===e||e.remove()}function l(t,e,o,n,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",l=document.createElement("span");if(l.style.backgroundColor=i.markerColor,l.style.position="fixed",l.classList.add("measure-js-marker"),l.style.width="".concat(t,"px"),l.style.height="".concat(e,"px"),l.style.pointerEvents="none",l.style.top="".concat(o,"px"),l.style.left="".concat(n,"px"),l.style.zIndex="9998",l.style.boxSizing="content-box",document.body.appendChild(l),parseInt(a)){var s=document.createElement("span");if(s.classList.add("measure-js-value"),s.style.backgroundColor=i.markerColor,s.style.color="white",s.style.fontSize="10px",s.style.display="inline-block",s.style.fontFamily="Helvetica, sans-serif",s.style.fontWeight="bold",s.style.borderRadius="20px",s.style.position="fixed",s.style.width="42px",s.style.lineHeight="15px",s.style.height="16px",s.style.textAlign="center",s.style.zIndex="10000",s.style.userSelect="none",s.innerText="".concat(parseInt(a),"px"),s.style.boxSizing="content-box",s.addEventListener("mouseenter",(function(){s.style.zIndex="10001"})),s.addEventListener("mouseleave",(function(){s.style.zIndex="10000"})),"x"===r){var h=o+e/2-7;h>document.documentElement.clientHeight-20&&(h=document.documentElement.clientHeight-20),h<0&&(h=6),s.style.top="".concat(h,"px"),s.style.left="".concat(n+6,"px")}else if("y"===r){var c=n+t/2-20;c>document.documentElement.clientWidth-48&&(c=document.documentElement.clientWidth-48),c<0&&(c=6),s.style.top="".concat(o+6,"px"),s.style.left="".concat(c,"px")}document.body.appendChild(s)}}function s(t,e,o,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"none",r=document.createElement("span");r.style.position="fixed",r.classList.add("measure-js-dashed-marker"),r.style.width="".concat(t,"px"),r.style.height="".concat(e,"px"),"x"===a&&(r.style.background="linear-gradient(to bottom, ".concat(i.DashedColor,", ").concat(i.DashedColor," 3px, transparent 3px, transparent)"),r.style.backgroundSize="100% 5px"),"y"===a&&(r.style.background="linear-gradient(to right, ".concat(i.DashedColor,", ").concat(i.DashedColor," 3px, transparent 3px, transparent)"),r.style.backgroundSize="5px 100%"),r.style.pointerEvents="none",r.style.top="".concat(o,"px"),r.style.left="".concat(n,"px"),r.style.zIndex="9998",r.style.boxSizing="content-box",document.body.appendChild(r)}function h(t,e,o,n){var i,a={top:function(){var o=Math.abs(t.top-e.top),i=Math.floor((Math.min(t.right,e.right)+Math.max(t.left,e.left))/2),a=Math.min(t.top,e.top);l(1,o,a,i,n,"x")},left:function(){var o=Math.abs(t.left-e.left),i=Math.floor((Math.min(t.bottom,e.bottom)+Math.max(t.top,e.top))/2),a=Math.min(t.left,e.left);l(o,1,i,a,n,"y")},right:function(){l(Math.abs(t.right-e.right),1,Math.floor((Math.min(t.bottom,e.bottom)+Math.max(t.top,e.top))/2),Math.min(t.right,e.right),n,"y")},bottom:function(){l(1,Math.abs(t.bottom-e.bottom),Math.min(t.bottom,e.bottom),Math.floor((Math.min(t.right,e.right)+Math.max(t.left,e.left))/2),n,"x")}};null===(i=a[o])||void 0===i||i.call(a)}function c(){document.querySelectorAll(".measure-js-marker").forEach((function(t){t.remove()})),document.querySelectorAll(".measure-js-dashed-marker").forEach((function(t){t.remove()})),document.querySelectorAll(".measure-js-value").forEach((function(t){t.remove()}))}var d,m,u=!1,p=null,f=!1,b=null;function g(t){f&&(M(),b&&(clearTimeout(b),b=null)),"Alt"!==t.key||u||(t.preventDefault(),u=!0,x(),w(!0)),t.shiftKey&&(f=!0)}function y(t){"Alt"===t.key&&u&&(u=!1,b=setTimeout((function(){M()}),f?5e3:0))}function M(){r("selected"),r("target"),f=!1,d=null,m=null,c(),w(!1)}function v(t){p=t.composedPath?t.composedPath()[0]:t.target,u&&new Promise((function(t,e){if(p===d)return c(),r("target"),r("selected"),x(),void(m=null);p&&p!==d&&p!==m&&(m=p,r("target"),a("target",m.getBoundingClientRect(),i.targetDomBorderColor),t())})).then((function(){if(null!=d&&null!=m){var t,e,o,i,a=d.getBoundingClientRect(),r=m.getBoundingClientRect(),u=new n(a),p=new n(r);c(),u.containing(p)||u.inside(p)||u.colliding(p)?(t=Math.round(Math.abs(a.top-r.top)),e=Math.round(Math.abs(a.bottom-r.bottom)),o=Math.round(Math.abs(a.left-r.left)),i=Math.round(Math.abs(a.right-r.right)),h(u,p,"top","".concat(t,"px")),h(u,p,"bottom","".concat(e,"px")),h(u,p,"left","".concat(o,"px")),h(u,p,"right","".concat(i,"px"))):(t=Math.round(Math.abs(a.top-r.bottom)),e=Math.round(Math.abs(a.bottom-r.top)),o=Math.round(Math.abs(a.left-r.right)),i=Math.round(Math.abs(a.right-r.left)),function(t,e,o,n){if(t.outsideAndNOIntersection(e)){var i=(t.top+t.bottom)/2,a=t.left>e.right?e.right:t.right,r=Math.abs(t.left>e.right?t.left-e.right:e.left-t.right);l(r,1,i,a,"".concat(r,"px"),"y");var h=e.top>t.bottom?i:e.bottom;s(1,Math.abs(e.top>t.bottom?i-e.top:i-e.bottom),h,e.left>t.right?a+r:e.right,"x");var c=t.top>e.bottom?e.bottom:t.bottom,d=(t.left+t.right)/2,m=Math.abs(t.top>e.bottom?t.top-e.bottom:e.top-t.bottom);l(1,m,c,d,"".concat(m,"px"),"x");var u=e.top>t.bottom?m+t.bottom:e.bottom;s(Math.abs(e.left>t.right?d-e.left:d-e.right),1,u,e.left>t.right?d:e.right,"y")}else if(t.outsideAndNOIntersectionY(e)){if(!t.outsideAndNOIntersectionX(e)){var p=t.top>e.top?(e.bottom+t.top)/2:(t.bottom+e.top)/2;(t.outsideIncludeX(e)||e.outsideIncludeX(t))&&(p=(e.height>t.height?t.top+t.bottom:e.top+e.bottom)/2);var f=e.left>t.right?t.right:e.right,b=Math.min(Math.abs(e.left-t.right),Math.abs(e.right-t.left));l(b,1,p,f,"".concat(b,"px"),"y");var g=e.bottom>t.bottom?t.bottom:e.bottom,y=e.bottom>t.bottom?(t.left+t.right)/2:(e.left+e.right)/2,M=Math.abs(e.bottom-t.bottom);l(1,M,g,y,"".concat(M,"px"),"x");var v=Math.max(t.bottom,e.bottom);s(e.bottom>t.bottom?Math.min(Math.abs(y-e.left),Math.abs(y-e.right)):Math.min(Math.abs(y-t.left),Math.abs(y-t.right)),1,v,Math.min(y,e.right,t.right),"y");var x=e.top>t.top?t.top:e.top,w=e.top>t.top?(e.left+e.right)/2:(t.left+t.right)/2,k=Math.abs(e.top-t.top);l(1,k,x,w,"".concat(k,"px"),"x");var E=Math.min(t.top,e.top);s(e.top>t.top?Math.min(Math.abs(w-t.right),Math.abs(w-t.left)):Math.min(Math.abs(w-e.right),Math.abs(w-e.left)),1,E,Math.min(w,e.right,t.right),"y")}}else{var C=t.left>e.left?(e.right+t.left)/2:(t.right+e.left)/2;(t.outsideIncludeY(e)||e.outsideIncludeY(t))&&(C=(e.width>t.width?t.left+t.right:e.left+e.right)/2);var I=Math.min(Math.abs(e.top-t.bottom),Math.abs(e.bottom-t.top));l(1,I,e.top>t.bottom?t.bottom:e.bottom,C,"".concat(I,"px"),"x");var S=e.right>t.right?(t.top+t.bottom)/2:(e.top+e.bottom)/2,L=e.right>t.right?t.right:e.right,D=Math.abs(e.right-t.right);l(D,1,S,L,"".concat(D,"px"),"y");var A=Math.min(S,e.bottom,t.bottom);s(1,e.right>t.right?Math.min(Math.abs(S-e.top),Math.abs(S-e.bottom)):Math.min(Math.abs(S-t.top),Math.abs(S-t.bottom)),A,Math.max(t.right,e.right),"x");var j=e.left>t.left?(e.top+e.bottom)/2:(t.top+t.bottom)/2,z=e.left>t.left?t.left:e.left,O=Math.abs(e.left-t.left);l(O,1,j,z,"".concat(O,"px"),"y");var H=Math.min(j,e.bottom,t.bottom);s(1,e.left>t.left?Math.min(Math.abs(j-t.bottom),Math.abs(j-t.top)):Math.min(Math.abs(j-e.bottom),Math.abs(j-e.top)),H,Math.min(t.left,e.left),"x")}}(u,p,0,"".concat(t,"px")))}}))}function x(){p&&(d=p,r("selected"),a("selected",d.getBoundingClientRect(),i.selectedDomBorderColor))}function w(t){t?(window.addEventListener("DOMMouseScroll",k,!1),window.addEventListener("wheel",k,{passive:!1}),window.addEventListener("mousewheel",k,{passive:!1})):(window.removeEventListener("DOMMouseScroll",k),window.removeEventListener("wheel",k),window.removeEventListener("mousewheel",k))}function k(t){t.preventDefault()}({start:function(){if(document.body){if(window.$Measure)return window.removeEventListener("keydown",window.$Measure.keyDownHandler),window.removeEventListener("keyup",window.$Measure.keyUpHandler),window.removeEventListener("mousemove",window.$Measure.cursorMovedHandler),void(window.$Measure=null);window.$Measure={keyDownHandler:g,keyUpHandler:y,cursorMovedHandler:v},window.addEventListener("keydown",g),window.addEventListener("keyup",y),window.addEventListener("mousemove",v)}else console.warn("初始化measure.js插件失败")}}).start(),window.measure=e})();